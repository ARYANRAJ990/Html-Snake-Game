<!DOCTYPE html>
<html>
<head>
  <title>Snake Game</title>
  <script src="https://code.jquery.com/jquery-1.11.3.js"></script>
  <style>
  html, body {
    height: 100%;
    margin: 0;
  }
  body {
    background: black;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  canvas {
    border: 1px solid white; background-color:gold;
  }
#p1
  {
    color:red;
	position:absolute;
	left:100px;
	top:10px;
  }
    #p2
    {
    color:red;
	position:absolute;
	left:100px;
	top:30px;
  }
  #score
  {
    color:yellow;
    position:absolute;
	left:155px;
	top:10px;
  }
   #high
  {
    color:yellow;
    position:absolute;
	  left:195px;
	  top:30px;
  }
  #btn_stop
  {
    color:brown;
    position:absolute;
	  left:100px;
	  top:80px;
  }
  #end_msg
  {
    color:brown;
    position:absolute;
	  left:100px;
	  top:100px;
  }
  </style>
</head>
<body>
<p id="p1">SCORE:</p>
<p id="p2">HIGHSCORE:</p>
<p id="score"></p>
<p id="high"></p>
<button id="btn_stop" >Stop Snake Game</button>
<p id="end_msg"></p>
<canvas width="400" height="400" id="game"></canvas>
<script>
var canvas = document.getElementById('game');
var context = canvas.getContext('2d');
var grid = 16;
var count = 0;
var score=0;
//reading  last score value 
if(localStorage.score){
  document.getElementById('score').innerHTML=localStorage.score; 
}

var max=0; 
var snake = {
  x: 160,
  y: 160,
  
  // snake velocity. moves one grid length every frame in either the x or y direction
  dx: grid,
  dy: 0,
  
  // keep track of all grids the snake body occupies
  cells: [],
  
  // length of the snake. grows when eating an apple
  maxCells: 4
};
var apple = {
  x: 320,
  y: 320
};
// get random whole numbers in a specific range
// @see https://stackoverflow.com/a/1527820/2124254
function getRandomInt(min, max) {
  return Math.floor(Math.random() * (max - min)) + min;
}
// game loop
function loop() {
  
  requestAnimationFrame(loop);
  // slow game loop to 15 fps instead of 60 (60/15 = 4)
  if (++count < 10) {
    return;
  }
